# Build setup for Travis CI

language:
  - java

jdk:
  - oraclejdk8

os:
  - linux

sudo: false

addons:
  sonarcloud:
    organization: vocabhunter
    token:
        secure: "Z17Rec8IztVK5sBrCCHyb/ehUr72+7qhd31xxr5teoaMGYmSu25Dhg4U0lyNgz3qKhZCi3x0pgCcS37m2Lv67WrQaBXMcTW+M3b7VV6xjRQoVp/kVP6Ba2qX4+kqJE49jWrm9vwpavC40L0nBWnC6/2HclTHJy84PW9uZtjoyTRyK1Ywz/wvPt83JfcXcDhSkv5+iLIqzQLT8d+KNT24Q6wnIdlwlPD0lZ8neTC0lNCq9Ab85692JHa4cjRL0NUJ1lrMV/RMUg75Xv7mBEDKgH2U7t7DfZh85Hif16pwR0e/hb7lb5hf7YQlRbBVistpB9rtxjnfctTIc317SW4H4G5F2iLE4UIURaY0Tx8nB+oAXv00ExuSkHlKc+uNtTDxhUxuBoLSQQUrQnCOx3iGuN5nmjKHmTYmTh9DGESGKBxEPTTDJYrR7MjD2/rNBsdGWPvydftMwHF2KQIgxJn7ycNGpjLKkiGHdo9VUHRz3Q1a594bDbhRChyEMj8nw2s5vsCM8Cr4g3szel+MkWw6aFNnuit1UlmwlYGZB95fzybqS54bMG+D339rlwfOm2lMnUy/v06B876vaHrfqHtjbRUEews50509u9Jqi4EzFkHQTA9Qr2UU5uybQ0RLaLhKXpcIZXX0kvao4iu1+k0AUfCfDI33W96/hrsq59vdBcA="
    branches:
      - sonarqube
  apt:
    packages:
      - oracle-java8-installer

before_cache:
  - rm -f $HOME/.gradle/caches/modules-2/modules-2.lock

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/

install: true

script:
  - ./gradlew sonarqube

deploy:
  provider: releases
  api_key:
    secure: Wlf91YmRm+lGVe3KtUb8n1RGGgRGmCalgc0K2q1OphmgSAsMHGj5xtohHPTDL4pY7t4MbvC6X4fzrhVIs/BytweMXXp4nzHFL4RAs5NLxdyQ4DYsI6kIWm6qqUjSudrZ2nbuXu2RS1guzQbvUq9qqgGDGhDVkcQVqkq0K5vmoNh5IMPdxtJ3BzJAdD/99zkh1RIfeoVw1sbmUBhRI888yfpIJ1JcTDWUtDXwrWCPAgpjkT6J15+0LdrTgekwfO+SaWlRalReVrubXYRo8mH6auwwiocTwKoJYNAoYQgX7YQSyVbMjx1YTnU2+v5K/V4MRrmPc9TiphETcHCvJWCTDvjMJ1GUOZoJmMmQ7548iyJkTaLvZX6z0NfwsJZ9FIGxFdWjKFD2FEW9uM0DfJCr6Zi8PzCUob/Db4Yt5/kN8QdRs1uYH09n8BxEjh9fOlHZh3BxUznMV/g7iqRARo7Wg8JLk0/FmLggL9ZfnKyXv9HphY2YRbeWW0/MHW03/O6UQVwWEIFZuQwVzNHxUZEDmh8Gj29YalTQv8EzOOhtRDgiXNTtGNPp9qgHGP0pxu6dX+Hr8Q84EUvKPJQdxXkcs0j36kAWE5/X/07BIcC8rnsNACjCzMeXqGJP+1u1T6nvZ9HNAQMCOHFbi+wXyz7FrVO3zYDN66YfWkMDNJ8OQ9A=
  file:
    - "gui/build/distributions/VocabHunter-${TRAVIS_TAG}.zip"
    - "package/build/jfx/native/vocabhunter-${TRAVIS_TAG}.deb"
  skip_cleanup: true
  on:
    tags: true
    repo: AdamCarroll/vh-sandbox
